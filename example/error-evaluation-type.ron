# エラーケース5: 評価時の型エラー（構文は正しいが評価で失敗）

op 100 : _ + _
op 50 : _ => _
op 40 r : _ -> _
op 30 : _ ⊢ _ : _

syntax {
    t ::= n | t + t
    n ::= 0 | 1 | 2
    T ::= Nat | T -> T
}

# 型推論ルール
⊢ 0 : Nat
⊢ 1 : Nat
⊢ 2 : Nat

⊢ t1 + t2 : Nat {
    ⊢ t1 : Nat
    ⊢ t2 : Nat
}

main {
    # エラー: 1 + 2 の型は Nat だが、Nat -> Nat を要求している
    ⊢ 1 + 2 : Nat -> Nat
}
